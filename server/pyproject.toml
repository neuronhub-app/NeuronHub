[project]
name = "neuronhub"
version = "0.0.0.0"
description = ""
requires-python = ">=3.12"
dependencies = [
    "daphne>=4.1.2",
    "humanize>=4.11.0",
    "markdownify>=0.14.1",
    "psycopg>=3.2.3",
    "python-dateutil>=2.9.0",
    "python-dotenv>=1.0.1",
    "python-environ>=0.4.54",
    "rich>=13.9.4",
    "sentry-sdk>=2.19.2",
    "whitenoise>=6.8.2",

    # django
    "django>=5.1.4",
    "django-allauth>=65.3.0",
    "django-anymail>=11.1",
    "django-cors-headers>=4.6.0",
    "django-extensions>=3.2.3",
        "ipython>=8.30.0",
    "django-fieldsignals>=0.7.0",
    "django-health-check>=3.18.3",
    "django-simple-history>=3.7.0",
    "dj-database-url>=2.3.0",
    "strawberry-graphql>=0.239.2",
        "strawberry-graphql-django>=0.47.1",

    # django fields
    "django-choices-field>=2.3.0",
    "django-timezone-field>=7.0",

    # django admin
    "django-adminutils>=0.0.22",
    "django-admin-sortable2>=2.2.4",
    "django-admin-autocomplete-filter>=0.7.1",
    "django-select2-admin-filters>=0.1.4",
        "django-select2>=8.2.3",
    "django-codemirror2>=0.2",
    "django-hijack>=3.7.0",
    "django-object-actions>=4.3.0",

    # django dev
    "django-debug-toolbar>=4.4.6",
    "django-stubs>=5.1.1",
        "django-stubs-ext>=5.1.1",
]

[tool.uv]
dev-dependencies = [
    "ruff>=0.8.3",
    "faker>=28.1.0",
    "objprint>=0.3.0",
    "pytest>=8.3.4",
        "pytest-django>=4.9.0",
        "pytest-mock>=3.14.0",
        "pytest-pspec>=0.0.4",
        "pytest-rich>=0.2.0",
]

[tool.ruff]
line-length = 97

[tool.ruff.lint.isort]
force-single-line = true
lines-after-imports = 2
known-first-party = ["neuronhub"]

[tool.ruff.lint]
extend-select = [
  "UP",  # pyupgrade: enforce modern python syntax
]
ignore = [
    # good one juniors, but spill over and errors on good code
    "E721",
    # ignore unused vars rule, as they're used as comments/placeholders
    "F841",
    # 2 rules for multi-line string indent - sounds useless,
    # use textwrap.dedent() - it's your responsibility. and flake8's fault for not detecting dedent()
    "W291",
    "W293",
]

[tool.pytest.ini_options]
DJANGO_SETTINGS_MODULE = "neuronhub.settings"
python_files = ["*__test.py"]
addopts = [
    "--no-migrations",
    "--capture=no", # show print() stdout
    "--color=yes",
    "--code-highlight=yes",
    "--no-header",
    "--pspec", # allows to use docstrings instead of test function names
]

[tool.django-stubs]
django_settings_module = "neuronhub.settings"
